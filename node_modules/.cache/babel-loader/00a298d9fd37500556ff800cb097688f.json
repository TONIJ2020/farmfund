{"ast":null,"code":"import _objectSpread from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import List from'./List.js';import Form from'./Form.js';import'./Review.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Apps=/*#__PURE__*/function(_React$Component){_inherits(Apps,_React$Component);var _super=_createSuper(Apps);function Apps(){var _this;_classCallCheck(this,Apps);_this=_super.call(this);_this.state={reviews:[{rating:3,name:'Danny Lambert',review:'Nice. Pls keep up the goog work.',date:new Date(new Date().setDate(new Date().getDate()-10))},{rating:2,name:'John Ifeanyichukwu',review:'What a great platform! God bless you guys.',date:new Date()}],validation:''};_this.submitForm=_this.submitForm.bind(_assertThisInitialized(_this));return _this;}_createClass(Apps,[{key:\"componentWillMount\",value:function componentWillMount(){this.setState(_objectSpread(_objectSpread({},this.state),{},{averageRating:this.getAverageRating(this.state.reviews)}));}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-light-gray global-padding-bottom\",children:/*#__PURE__*/_jsx(\"section\",{className:\"reviews\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row align-center content-margin-top-negative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"small-12 medium-8 large-6 columns\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-padding bg-white area\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-size-medium\",children:[\"Our colleagues rated this assessment with  \\xA0\",/*#__PURE__*/_jsx(\"strong\",{className:\"text-color-primary\",children:this.state.averageRating})]}),this.renderList()]}),this.renderForm()]})})})});}},{key:\"renderList\",value:function renderList(){return/*#__PURE__*/_jsx(List,{reviews:this.state.reviews});}},{key:\"renderForm\",value:function renderForm(){return/*#__PURE__*/_jsx(Form,{submitForm:this.submitForm,validation:this.state.validation});}},{key:\"submitForm\",value:function submitForm(event){event.preventDefault();var reviews=this.state.reviews.slice();if(event.target.rating.value===''||event.target.name.value===''||event.target.review.value===''){this.setState(_objectSpread(_objectSpread({},this.state),{},{validation:/*#__PURE__*/_jsx(\"div\",{className:\"validation\",children:\"Not all fields are completed\"})}));return;}this.setState(_objectSpread(_objectSpread({},this.state),{},{validation:''}));reviews.push({rating:parseInt(event.target.rating.value),name:event.target.name.value,review:event.target.review.value,date:new Date()});this.setState(_objectSpread(_objectSpread({},this.state),{},{reviews:reviews,averageRating:this.getAverageRating(reviews),validation:''}));}},{key:\"getAverageRating\",value:function getAverageRating(reviews){var totalRating=0;reviews.map(function(review){return totalRating=totalRating+review.rating;});return Math.round(totalRating/reviews.length*2*10)/10;}}]);return Apps;}(React.Component);export default Apps;","map":{"version":3,"sources":["C:/Users/TONY/Desktop/farmfund/src/Components/Review/Apps.js"],"names":["React","List","Form","Apps","state","reviews","rating","name","review","date","Date","setDate","getDate","validation","submitForm","bind","setState","averageRating","getAverageRating","renderList","renderForm","event","preventDefault","slice","target","value","push","parseInt","totalRating","map","Math","round","length","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport List from './List.js';\r\nimport Form from './Form.js';\r\nimport './Review.css';\r\n\r\nclass Apps extends React.Component {\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.state = {\r\n            reviews: [\r\n                {\r\n                    rating: 3,\r\n                    name: 'Danny Lambert',\r\n                    review: 'Nice. Pls keep up the goog work.',\r\n                    date: new Date(new Date().setDate(new Date().getDate() - 10))\r\n                },\r\n                {\r\n                    rating: 2,\r\n                    name: 'John Ifeanyichukwu',\r\n                    review: 'What a great platform! God bless you guys.',\r\n                    date: new Date()\r\n                }\r\n            ],\r\n            validation: ''\r\n        };\r\n\r\n        this.submitForm = this.submitForm.bind(this);\r\n    }\r\n\r\n    componentWillMount()\r\n    {\r\n        this.setState({\r\n            ...this.state, averageRating: this.getAverageRating(this.state.reviews)\r\n        });\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (\r\n            <div className=\"bg-light-gray global-padding-bottom\">\r\n                <section className=\"reviews\">\r\n\r\n                    <div className=\"row align-center content-margin-top-negative\">\r\n                        <div className=\"small-12 medium-8 large-6 columns\">\r\n                            <div className=\"content-padding bg-white area\">\r\n\r\n                                <p className=\"font-size-medium\">\r\n                                Our colleagues rated this assessment with  &nbsp;\r\n                                    <strong className=\"text-color-primary\">{this.state.averageRating}</strong>\r\n                                </p>\r\n\r\n                                {this.renderList()}\r\n                            </div>\r\n                            {this.renderForm()}\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </section>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n    renderList()\r\n    {\r\n        return <List reviews={this.state.reviews}/>;\r\n    }\r\n\r\n    renderForm()\r\n    {\r\n        return <Form submitForm={this.submitForm} validation={this.state.validation}/>;\r\n    }\r\n\r\n    submitForm(event)\r\n    {\r\n        event.preventDefault();\r\n        const reviews = this.state.reviews.slice();\r\n\r\n        if(event.target.rating.value === '' || event.target.name.value === '' || event.target.review.value === '') {\r\n            this.setState({\r\n                ...this.state,\r\n                validation: <div className=\"validation\">Not all fields are completed</div>\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            validation: ''\r\n        });\r\n\r\n        reviews.push({\r\n            rating: parseInt(event.target.rating.value),\r\n            name: event.target.name.value,\r\n            review: event.target.review.value,\r\n            date: new Date()\r\n        });\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            reviews: reviews,\r\n            averageRating: this.getAverageRating(reviews),\r\n            validation: ''\r\n        });\r\n    }\r\n\r\n    getAverageRating(reviews)\r\n    {\r\n        var totalRating = 0;\r\n\r\n        reviews.map(function (review)\r\n        {\r\n            return totalRating = totalRating + review.rating;\r\n        });\r\n\r\n        return Math.round(totalRating / reviews.length * 2 * 10) / 10;\r\n    }\r\n}\r\n\r\nexport default Apps;"]},"metadata":{},"sourceType":"module"}