{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TONY\\\\Desktop\\\\Genesys-Tech-Hub\\\\Farmfund\\\\src\\\\Components\\\\Login\\\\LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useEffect, useRef } from 'react';\nimport { verifyLogin } from './utils';\nimport './Login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  username: '',\n  password: '',\n  isLoading: false,\n  isLoggedIn: false,\n  error: ''\n};\n\nfunction loginReducer(state, action) {\n  switch (action.type) {\n    case 'field':\n      {\n        return { ...state,\n          [action.fieldName]: action.payload\n        };\n      }\n\n    case 'login':\n      {\n        return { ...state,\n          error: '',\n          isLoading: true,\n          isFocused: true\n        };\n      }\n\n    case 'success':\n      {\n        return { ...state,\n          isLoggedIn: true,\n          isLoading: false\n        };\n      }\n\n    case 'error':\n      {\n        return { ...state,\n          error: 'Incorrect username or password entered',\n          isLoggedIn: false,\n          isLoading: false,\n          username: '',\n          password: '',\n          isFocused: true\n        };\n      }\n\n    case 'logout':\n      {\n        return { ...state,\n          isLoggedIn: false,\n          username: '',\n          password: '',\n          error: ''\n        };\n      }\n\n    default:\n      return state;\n  }\n}\n\nfunction LoginForm() {\n  _s();\n\n  const [state, dispatch] = useReducer(loginReducer, initialState);\n  const {\n    username,\n    password,\n    isLoading,\n    isLoggedIn,\n    error,\n    isFocused\n  } = state;\n  const usernameRef = useRef(null);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    dispatch({\n      type: verifyLogin\n    });\n\n    try {\n      await verifyLogin({\n        username,\n        password\n      });\n      dispatch({\n        type: 'success'\n      });\n    } catch (error) {\n      dispatch({\n        type: 'error'\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (isFocused) {\n      usernameRef.current.focus();\n    }\n  }, [isFocused]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Welcome \", username, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch({\n            type: 'logout'\n          }),\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: handleSubmit,\n        children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: [error, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please Login!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: usernameRef,\n          placeholder: \"Enter username\",\n          value: username,\n          autoFocus: true,\n          onChange: e => dispatch({\n            type: 'field',\n            fieldName: 'username',\n            payload: e.currentTarget.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Enter password\",\n          value: password,\n          onChange: e => dispatch({\n            type: 'field',\n            fieldName: 'password',\n            payload: e.currentTarget.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit\",\n          type: \"submit\",\n          disabled: isLoading,\n          children: isLoading ? 'Logging In.....' : 'Log In'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginForm, \"jRq5Dy77lFHFLKx2Oy/a4Jvg/WA=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["C:/Users/TONY/Desktop/Genesys-Tech-Hub/Farmfund/src/Components/Login/LoginForm.js"],"names":["React","useReducer","useEffect","useRef","verifyLogin","initialState","username","password","isLoading","isLoggedIn","error","loginReducer","state","action","type","fieldName","payload","isFocused","LoginForm","dispatch","usernameRef","handleSubmit","e","preventDefault","current","focus","currentTarget","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,MAAvC,QAAqD,OAArD;AACA,SAASC,WAAT,QAA4B,SAA5B;AACA,OAAO,SAAP;;;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,EADS;AAEnBC,EAAAA,QAAQ,EAAE,EAFS;AAGnBC,EAAAA,SAAS,EAAE,KAHQ;AAInBC,EAAAA,UAAU,EAAE,KAJO;AAKnBC,EAAAA,KAAK,EAAE;AALY,CAArB;;AAQA,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,MAA7B,EAAqC;AACnC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,OAAL;AAAc;AACZ,eAAO,EACL,GAAGF,KADE;AAEL,WAACC,MAAM,CAACE,SAAR,GAAoBF,MAAM,CAACG;AAFtB,SAAP;AAID;;AACD,SAAK,OAAL;AAAc;AACZ,eAAO,EACL,GAAGJ,KADE;AAELF,UAAAA,KAAK,EAAE,EAFF;AAGLF,UAAAA,SAAS,EAAE,IAHN;AAILS,UAAAA,SAAS,EAAE;AAJN,SAAP;AAMD;;AACD,SAAK,SAAL;AAAgB;AACd,eAAO,EACL,GAAGL,KADE;AAELH,UAAAA,UAAU,EAAE,IAFP;AAGLD,UAAAA,SAAS,EAAE;AAHN,SAAP;AAKD;;AACD,SAAK,OAAL;AAAc;AACZ,eAAO,EACL,GAAGI,KADE;AAELF,UAAAA,KAAK,EAAE,wCAFF;AAGLD,UAAAA,UAAU,EAAE,KAHP;AAILD,UAAAA,SAAS,EAAE,KAJN;AAKLF,UAAAA,QAAQ,EAAE,EALL;AAMLC,UAAAA,QAAQ,EAAE,EANL;AAOLU,UAAAA,SAAS,EAAE;AAPN,SAAP;AASD;;AACD,SAAK,QAAL;AAAe;AACb,eAAO,EACL,GAAGL,KADE;AAELH,UAAAA,UAAU,EAAE,KAFP;AAGLH,UAAAA,QAAQ,EAAE,EAHL;AAILC,UAAAA,QAAQ,EAAE,EAJL;AAKLG,UAAAA,KAAK,EAAE;AALF,SAAP;AAOD;;AACD;AACE,aAAOE,KAAP;AA3CJ;AA6CD;;AAED,SAASM,SAAT,GAAqB;AAAA;;AACnB,QAAM,CAACN,KAAD,EAAQO,QAAR,IAAoBlB,UAAU,CAACU,YAAD,EAAeN,YAAf,CAApC;AACA,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA,SAAtB;AAAiCC,IAAAA,UAAjC;AAA6CC,IAAAA,KAA7C;AAAoDO,IAAAA;AAApD,MAAkEL,KAAxE;AACA,QAAMQ,WAAW,GAAGjB,MAAM,CAAC,IAAD,CAA1B;;AAEA,QAAMkB,YAAY,GAAG,MAAMC,CAAN,IAAW;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACAJ,IAAAA,QAAQ,CAAC;AAAEL,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAMA,WAAW,CAAC;AAAEE,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,OAAD,CAAjB;AACAY,MAAAA,QAAQ,CAAC;AAAEL,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD,KAHD,CAGE,OAAOJ,KAAP,EAAc;AACdS,MAAAA,QAAQ,CAAC;AAAEL,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD;AACF,GATD;;AAWAZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIe,SAAJ,EAAe;AACbG,MAAAA,WAAW,CAACI,OAAZ,CAAoBC,KAApB;AACD;AACF,GAJQ,EAIN,CAACR,SAAD,CAJM,CAAT;AAMA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,gBACGR,UAAU,gBACT;AAAA,gCACE;AAAA,iCAAaH,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAMa,QAAQ,CAAC;AAAEL,YAAAA,IAAI,EAAE;AAAR,WAAD,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA,sBADS,gBAQT;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAuB,QAAA,QAAQ,EAAEO,YAAjC;AAAA,mBACGX,KAAK,iBAAI;AAAG,UAAA,SAAS,EAAC,OAAb;AAAA,qBAAsBA,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADZ,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,GAAG,EAAEU,WAFP;AAGE,UAAA,WAAW,EAAC,gBAHd;AAIE,UAAA,KAAK,EAAEd,QAJT;AAKE,UAAA,SAAS,MALX;AAME,UAAA,QAAQ,EAAEgB,CAAC,IACTH,QAAQ,CAAC;AACPL,YAAAA,IAAI,EAAE,OADC;AAEPC,YAAAA,SAAS,EAAE,UAFJ;AAGPC,YAAAA,OAAO,EAAEM,CAAC,CAACI,aAAF,CAAgBC;AAHlB,WAAD;AAPZ;AAAA;AAAA;AAAA;AAAA,gBAHF,eAiBE;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,WAAW,EAAC,gBAFd;AAGE,UAAA,KAAK,EAAEpB,QAHT;AAIE,UAAA,QAAQ,EAAEe,CAAC,IACTH,QAAQ,CAAC;AACPL,YAAAA,IAAI,EAAE,OADC;AAEPC,YAAAA,SAAS,EAAE,UAFJ;AAGPC,YAAAA,OAAO,EAAEM,CAAC,CAACI,aAAF,CAAgBC;AAHlB,WAAD;AALZ;AAAA;AAAA;AAAA;AAAA,gBAjBF,eA6BE;AAAQ,UAAA,SAAS,EAAC,QAAlB;AAA2B,UAAA,IAAI,EAAC,QAAhC;AAAyC,UAAA,QAAQ,EAAEnB,SAAnD;AAAA,oBACGA,SAAS,GAAG,iBAAH,GAAuB;AADnC;AAAA;AAAA;AAAA;AAAA,gBA7BF;AAAA;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAgDD;;GAtEQU,S;;KAAAA,S;AAwET,eAAeA,SAAf","sourcesContent":["import React, { useReducer, useEffect, useRef } from 'react';\r\nimport { verifyLogin } from './utils';\r\nimport './Login'\r\n\r\nconst initialState = {\r\n  username: '',\r\n  password: '',\r\n  isLoading: false,\r\n  isLoggedIn: false,\r\n  error: ''\r\n};\r\n\r\nfunction loginReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'field': {\r\n      return {\r\n        ...state,\r\n        [action.fieldName]: action.payload\r\n      };\r\n    }\r\n    case 'login': {\r\n      return {\r\n        ...state,\r\n        error: '',\r\n        isLoading: true,\r\n        isFocused: true\r\n      };\r\n    }\r\n    case 'success': {\r\n      return {\r\n        ...state,\r\n        isLoggedIn: true,\r\n        isLoading: false\r\n      };\r\n    }\r\n    case 'error': {\r\n      return {\r\n        ...state,\r\n        error: 'Incorrect username or password entered',\r\n        isLoggedIn: false,\r\n        isLoading: false,\r\n        username: '',\r\n        password: '',\r\n        isFocused: true\r\n      };\r\n    }\r\n    case 'logout': {\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        username: '',\r\n        password: '',\r\n        error: ''\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction LoginForm() {\r\n  const [state, dispatch] = useReducer(loginReducer, initialState);\r\n  const { username, password, isLoading, isLoggedIn, error, isFocused } = state;\r\n  const usernameRef = useRef(null);\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    dispatch({ type: verifyLogin });\r\n    try {\r\n      await verifyLogin({ username, password });\r\n      dispatch({ type: 'success' });\r\n    } catch (error) {\r\n      dispatch({ type: 'error' });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isFocused) {\r\n      usernameRef.current.focus();\r\n    }\r\n  }, [isFocused]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"login-container\">\r\n        {isLoggedIn ? (\r\n          <>\r\n            <h1>Welcome {username}!</h1>\r\n            <button onClick={() => dispatch({ type: 'logout' })}>\r\n              Log Out\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <form className=\"form\" onSubmit={handleSubmit}>\r\n            {error && <p className=\"error\">{error} </p>}\r\n            <p>Please Login!</p>\r\n            <input\r\n              type=\"text\"\r\n              ref={usernameRef}\r\n              placeholder=\"Enter username\"\r\n              value={username}\r\n              autoFocus\r\n              onChange={e =>\r\n                dispatch({\r\n                  type: 'field',\r\n                  fieldName: 'username',\r\n                  payload: e.currentTarget.value\r\n                })\r\n              }\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Enter password\"\r\n              value={password}\r\n              onChange={e =>\r\n                dispatch({\r\n                  type: 'field',\r\n                  fieldName: 'password',\r\n                  payload: e.currentTarget.value\r\n                })\r\n              }\r\n            />\r\n            <button className=\"submit\" type=\"submit\" disabled={isLoading}>\r\n              {isLoading ? 'Logging In.....' : 'Log In'}\r\n            </button>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}