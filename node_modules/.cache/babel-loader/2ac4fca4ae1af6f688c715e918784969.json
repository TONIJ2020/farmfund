{"ast":null,"code":"import _classCallCheck from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TONY/Desktop/farmfund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import axios from'axios';import React,{Component}from'react';import{withRouter}from'react-router';import'../Styles/LoginRegister.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.handleSubmit=function(e){e.preventDefault();var data={email:_this.email,password:_this.password};axios.post('/user/sign-in',data).then(function(res){localStorage.setItem('userData',JSON.stringify(res.data.user));_this.setState({loggedIn:true});_this.props.setUser(res.data.user);_this.props.history.push(\"/dashboard\");}).catch(function(err){_this.setState({message:err.response.data.message});});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;var error='';return/*#__PURE__*/_jsx(\"form\",{onSubmit:this.handleSubmit,className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",children:[error,/*#__PURE__*/_jsx(\"h3\",{className:\"login-register-header\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",placeholder:\"circleafrica@gmail.com\",onChange:function onChange(e){return _this2.email=e.target.value;},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"Password\",onChange:function onChange(e){return _this2.password=e.target.value;},required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",className:\"submit\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/forgot\",className:\"forgot-password\",children:\"Forgot Password?\"})]})});}}]);return Login;}(Component);export default withRouter(Login);","map":{"version":3,"sources":["C:/Users/TONY/Desktop/farmfund/src/Components/LoginRegister/Login.js"],"names":["axios","React","Component","withRouter","Login","state","handleSubmit","e","preventDefault","data","email","password","post","then","res","localStorage","setItem","JSON","stringify","user","setState","loggedIn","props","setUser","history","push","catch","err","message","response","error","target","value"],"mappings":"okBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAO,6BAAP,C,2FAEMC,CAAAA,K,uTAEFC,K,CAAQ,E,OAERC,Y,CAAe,SAAAC,CAAC,CAAI,CAChBA,CAAC,CAACC,cAAF,GAEA,GAAMC,CAAAA,IAAI,CAAG,CACTC,KAAK,CAAE,MAAKA,KADH,CAETC,QAAQ,CAAE,MAAKA,QAFN,CAAb,CAKAX,KAAK,CAACY,IAAN,CAAW,eAAX,CAA4BH,IAA5B,EACKI,IADL,CACU,SAAAC,GAAG,CAAI,CACTC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACL,IAAJ,CAASU,IAAxB,CAAjC,EACA,MAAKC,QAAL,CAAe,CACXC,QAAQ,CAAE,IADC,CAAf,EAGA,MAAKC,KAAL,CAAWC,OAAX,CAAmBT,GAAG,CAACL,IAAJ,CAASU,IAA5B,EACA,MAAKG,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EACH,CARL,EASKC,KATL,CASW,SAAAC,GAAG,CAAI,CACV,MAAKP,QAAL,CAAc,CACVQ,OAAO,CAAED,GAAG,CAACE,QAAJ,CAAapB,IAAb,CAAkBmB,OADjB,CAAd,EAGH,CAbL,EAcH,C,uDAGD,iBAAS,iBACL,GAAIE,CAAAA,KAAK,CAAG,EAAZ,CAEA,mBACI,aAAM,QAAQ,CAAE,KAAKxB,YAArB,CAAmC,SAAS,CAAC,WAA7C,uBACI,aAAK,SAAS,CAAC,eAAf,WACKwB,KADL,cAEI,WAAI,SAAS,CAAC,uBAAd,mBAFJ,cAII,aAAK,SAAS,CAAC,YAAf,wBACI,iCADJ,cAEI,cAAO,IAAI,CAAC,OAAZ,CACA,EAAE,CAAC,OADH,CAEA,WAAW,CAAC,wBAFZ,CAGA,QAAQ,CAAE,kBAAAvB,CAAC,QAAI,CAAA,MAAI,CAACG,KAAL,CAAaH,CAAC,CAACwB,MAAF,CAASC,KAA1B,EAHX,CAIA,QAAQ,KAJR,EAFJ,GAJJ,cAaI,aAAK,SAAS,CAAC,YAAf,wBACI,mCADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CACA,EAAE,CAAC,UADH,CAEA,WAAW,CAAC,UAFZ,CAGA,QAAQ,CAAE,kBAAAzB,CAAC,QAAI,CAAA,MAAI,CAACI,QAAL,CAAgBJ,CAAC,CAACwB,MAAF,CAASC,KAA7B,EAHX,CAIA,QAAQ,KAJR,EAFJ,GAbJ,cAsBI,YAAK,SAAS,CAAC,YAAf,uBACI,cAAO,IAAI,CAAC,QAAZ,CACA,KAAK,CAAC,OADN,CAEA,SAAS,CAAC,QAFV,EADJ,EAtBJ,cA6BI,UAAG,IAAI,CAAC,SAAR,CAAkB,SAAS,CAAC,iBAA5B,8BA7BJ,GADJ,EADJ,CAmCH,C,mBAnEe9B,S,EAsEpB,cAAeC,CAAAA,UAAU,CAACC,KAAD,CAAzB","sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport '../Styles/LoginRegister.css';\r\n\r\nclass Login extends Component {\r\n\r\n    state = {};\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n            email: this.email,\r\n            password: this.password\r\n        }\r\n\r\n        axios.post('/user/sign-in', data)\r\n            .then(res => {\r\n                localStorage.setItem('userData', JSON.stringify(res.data.user));\r\n                this.setState ({\r\n                    loggedIn: true\r\n                });\r\n                this.props.setUser(res.data.user);\r\n                this.props.history.push(\"/dashboard\");\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    message: err.response.data.message\r\n                })\r\n            })\r\n    };\r\n\r\n    \r\n    render() {\r\n        let error = '';\r\n\r\n        return (\r\n            <form onSubmit={this.handleSubmit} className=\"container\">\r\n                <div className=\"login-wrapper\">\r\n                    {error}\r\n                    <h3 className=\"login-register-header\">Login</h3>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>E-mail</label>\r\n                        <input type=\"email\" \r\n                        id=\"email\" \r\n                        placeholder='circleafrica@gmail.com' \r\n                        onChange={e => this.email = e.target.value}\r\n                        required/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Password</label>\r\n                        <input type='password' \r\n                        id='password' \r\n                        placeholder='Password' \r\n                        onChange={e => this.password = e.target.value}\r\n                        required/>\r\n                    </div>\r\n        \r\n                    <div className=\"form-group\">\r\n                        <input type='submit' \r\n                        value='Login' \r\n                        className='submit' \r\n                        />\r\n                    </div>\r\n\r\n                    <a href=\"/forgot\" className=\"forgot-password\">Forgot Password?</a>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Login);\r\n"]},"metadata":{},"sourceType":"module"}