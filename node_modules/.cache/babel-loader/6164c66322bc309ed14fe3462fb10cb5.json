{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TONY\\\\Desktop\\\\Farmfund\\\\farmfund\\\\src\\\\Components\\\\LoginRegister\\\\LoginRegister.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport axios from 'axios';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport './LoginRegister.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginRegister() {\n  _s();\n\n  const [registrationFormStatus, setRegistrationFormStatus] = useState(false);\n  const loginProps = useSpring({\n    left: registrationFormStatus ? -500 : 0,\n    opacity: registrationFormStatus ? 0 : 1\n  });\n  const registerProps = useSpring({\n    left: registrationFormStatus ? 0 : 500,\n    opacity: registrationFormStatus ? 1 : 0\n  });\n  const loginBtnProps = useSpring({\n    borderBottom: registrationFormStatus ? 'solid 0px transparent' : 'solid 2px #70C217'\n  });\n  const registerBtnProps = useSpring({\n    borderBottom: registrationFormStatus ? 'solid 2px #70C217' : 'solid 0px transparent'\n  });\n\n  function registerClicked() {\n    setRegistrationFormStatus(true);\n  }\n\n  function loginClicked() {\n    setRegistrationFormStatus(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-register-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(animated.button, {\n        onClick: loginClicked,\n        id: \"loginBtn\",\n        style: loginBtnProps,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(animated.button, {\n        onClick: registerClicked,\n        id: \"registerBtn\",\n        style: registerBtnProps,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(animated.form, {\n        action: \"\",\n        id: \"loginform\",\n        style: loginProps,\n        children: /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 76\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(animated.form, {\n        action: \"\",\n        id: \"registerform\",\n        style: registerProps,\n        children: /*#__PURE__*/_jsxDEV(RegisterForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 82\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(animated.div, {\n        className: \"forgot-panel\",\n        style: loginProps,\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#forgot\",\n          children: \"Forgot your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 75\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginRegister, \"QIP9sS1V7bQqD+PIQvuC/gYPz9U=\", false, function () {\n  return [useSpring, useSpring, useSpring, useSpring];\n});\n\n_c = LoginRegister;\n\nfunction LoginForm(props) {\n  _s2();\n\n  const [state, setState] = useState({\n    Username: \"\",\n    password: \"\",\n    successMessage: null\n  });\n\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setState(prevState => ({ ...prevState,\n      [id]: value\n    }));\n  };\n\n  const handleSubmitClick = e => {\n    e.preventDefault();\n    const payload = {\n      \"username\": state.username,\n      \"password\": state.password\n    };\n    axios.post(API_BASE_URL + '/user/login', payload).then(function (response) {\n      if (response.status === 200) {\n        setState(prevState => ({ ...prevState,\n          'successMessage': 'Login successful. Redirecting to home page..'\n        }));\n        localStorage.setItem(ACCESS_TOKEN_NAME, response.data.token);\n        redirectToHome();\n        props.showError(null);\n      } else if (response.code === 204) {\n        props.showError(\"Username and password do not match\");\n      } else {\n        props.showError(\"Username does not exist\");\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const redirectToHome = () => {\n    props.updateTitle('Home');\n    props.history.push('/home');\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      for: \"username\",\n      children: \"Username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"username\",\n      value: state.username,\n      placeholder: \"CircleAfrica\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      for: \"password\",\n      children: \"Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"password\",\n      placeholder: \"**********\",\n      value: state.password,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"submit\",\n      className: \"submit\",\n      onClick: handleSubmitClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success\",\n      style: {\n        display: state.successMessage ? 'block' : 'none'\n      },\n      role: \"alert\",\n      children: state.successMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n} // function RegisterForm(props) {\n//     const [state , setState] = useState({\n//         firstname : \"\",\n//         lastname : \"\",\n//         middlename : \"\",\n//         phone : \"\",\n//         email : \"\",\n//         address : \"\",\n//         username : \"\",\n//         password : \"\",\n//         confirmPassword: \"\",\n//         farmer : \"\",\n//         investor : \"\",\n//         consultant : \"\",\n//         successMessage: null\n//     })\n//     const handleChange = (e) => {\n//         const {id , value} = e.target   \n//         setState(prevState => ({\n//             ...prevState,\n//             [id] : value\n//         }))\n//     }\n//     const sendDetailsToServer = () => {\n//         if(state.email.length && state.password.length) {\n//             props.showError(null);\n//             const payload={\n//                 \"firstname\":state.firstname,\n//                 \"lastname\":state.lastname,\n//                 \"middlename\":state.middlename,\n//                 \"phone\":state.phone,\n//                 \"email\":state.email,\n//                 \"address\":state.address,\n//                 \"password\":state.password,\n//             }\n//             axios.post(API_BASE_URL+'/user/register', payload)\n//                 .then(function (response) {\n//                     if(response.status === 200){\n//                         setState(prevState => ({\n//                             ...prevState,\n//                             'successMessage' : 'Registration successful. Redirecting to home page..'\n//                         }))\n//                         localStorage.setItem(ACCESS_TOKEN_NAME,response.data.token);\n//                         redirectToHome();\n//                         props.showError(null)\n//                     } else{\n//                         props.showError(\"Some error ocurred\");\n//                     }\n//                 })\n//                 .catch(function (error) {\n//                     console.log(error);\n//                 });    \n//         } else {\n//             props.showError('Please enter valid username and password')    \n//         }\n//     }\n//     const redirectToHome = () => {\n//         props.updateTitle('Home')\n//         props.history.push('/home');\n//     }\n//     const handleSubmitClick = (e) => {\n//         e.preventDefault();\n//         if(state.password === state.confirmPassword) {\n//             sendDetailsToServer()    \n//         } else {\n//             props.showError('Passwords do not match');\n//         }\n//     }\n//     return (\n//         <React.Fragment>\n//             <label for=\"firstname\">First Name</label>\n//             <input type=\"text\" \n//             id=\"firstname\" \n//             placeholder='Lambert' \n//             onChange={e => state.firstname = e.target.value} \n//             />\n//             <label for=\"lastname\">Last Name</label>\n//             <input type=\"text\" \n//             id=\"lastname\" \n//             placeholder='Agbo'  \n//             value={state.lastname}\n//             onChange={handleChange}\n//             />\n//             <label for=\"middlename\">Middle Name</label>\n//             <input type=\"text\" \n//             id=\"middlename\" \n//             placeholder='Ikechukwu' \n//             value={state.middlename}\n//             onChange={handleChange}\n//             />\n//             <label for=\"phone\">Phone</label>\n//             <input type=\"text\" \n//             id=\"phone\" \n//             placeholder='+234-703-567-1234' \n//             value={state.phone}\n//             onChange={handleChange}\n//             />\n//             <label for=\"email\">E-mail</label>\n//             <input type=\"email\" \n//             id=\"email\" \n//             placeholder='circleafrica@gmail.com' \n//             value={state.email}\n//             onChange={handleChange}\n//             />\n//             <label for=\"address\">Address</label>\n//             <input type=\"text\" \n//             id=\"address\" \n//             placeholder='No. 30 Ekpoma Street, New Haven, Enugu'  \n//             value={state.address}\n//             onChange={handleChange}\n//             />\n//             <label for='username'>Username</label>\n//             <input type='text' \n//             id='username' \n//             placeholder='CircleAfrica' \n//             value={state.username}\n//             onChange={handleChange}\n//             />\n//             <label for='password'>Password</label>\n//             <input type='text' \n//             id='password' \n//             placeholder='**********' \n//             value={state.password}\n//             onChange={handleChange}\n//             />\n//             <label for='password'>Confirm Password</label>\n//             <input type='text' \n//             id='password' \n//             placeholder='**********' \n//             value={state.confirmPassword}\n//             onChange={handleChange}\n//             />\n//             <div className=\"radio-input-group\">\n//                 <input className=\"farmer-radio\" \n//                 type=\"radio\" \n//                 value=\"Male\" \n//                 name=\"gender\" /> Farmer\n//                 <input className=\"investor-radio\" type=\"radio\" \n//                 value=\"Female\" \n//                 name=\"gender\" /> Investor\n//                 <input className=\"consultant-radio\" type=\"radio\" \n//                 value=\"Other\" \n//                 name=\"gender\" /> Consultant\n//             </div>\n//             <input type='submit' \n//             value='submit' \n//             className='submit' \n//             onClick={handleSubmitClick}\n//             />\n//             <div className=\"alert alert-success\" style={{display: state.successMessage ? 'block' : 'none' }} role=\"alert\">\n//                 {state.successMessage}\n//             </div>\n//         </React.Fragment>\n//     )\n// }\n\n\n_s2(LoginForm, \"ysmHU4RiZKxsyX5iamIPZlrm+AA=\");\n\n_c2 = LoginForm;\nexport default LoginRegister;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LoginRegister\");\n$RefreshReg$(_c2, \"LoginForm\");","map":{"version":3,"sources":["C:/Users/TONY/Desktop/Farmfund/farmfund/src/Components/LoginRegister/LoginRegister.js"],"names":["React","useState","useSpring","animated","axios","API_BASE_URL","ACCESS_TOKEN_NAME","LoginRegister","registrationFormStatus","setRegistrationFormStatus","loginProps","left","opacity","registerProps","loginBtnProps","borderBottom","registerBtnProps","registerClicked","loginClicked","LoginForm","props","state","setState","Username","password","successMessage","handleChange","e","id","value","target","prevState","handleSubmitClick","preventDefault","payload","username","post","then","response","status","localStorage","setItem","data","token","redirectToHome","showError","code","catch","error","console","log","updateTitle","history","push","display"],"mappings":"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A;AAAA;AAAA;AAAA;AAAA;AAAA,YATJ,eAUI;AAAO,MAAA,IAAI,EAAC,MAAZ;AACA,MAAA,EAAE,EAAC,UADH;AAEA,MAAA,WAAW,EAAC,YAFZ;AAGA,MAAA,KAAK,EAAEL,KAAK,CAACG,QAHb;AAIA,MAAA,QAAQ,EAAEE;AAJV;AAAA;AAAA;AAAA;AAAA,YAVJ,eAiBI;AAAO,MAAA,IAAI,EAAC,QAAZ;AACA,MAAA,KAAK,EAAC,QADN;AAEA,MAAA,SAAS,EAAC,QAFV;AAGA,MAAA,OAAO,EAAEM;AAHT;AAAA;AAAA;AAAA;AAAA,YAjBJ,eAuBI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAqC,MAAA,KAAK,EAAE;AAACsB,QAAAA,OAAO,EAAEjC,KAAK,CAACI,cAAN,GAAuB,OAAvB,GAAiC;AAA3C,OAA5C;AAAiG,MAAA,IAAI,EAAC,OAAtG;AAAA,gBACKJ,KAAK,CAACI;AADX;AAAA;AAAA;AAAA;AAAA,YAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AA6BH,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;IArPSN,S;;MAAAA,S;AAuPT,eAAeZ,aAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport {useSpring, animated} from 'react-spring';\r\nimport axios from 'axios';\r\nimport {API_BASE_URL, ACCESS_TOKEN_NAME} from '../../constants/apiConstants';\r\nimport './LoginRegister.css'\r\n\r\nfunction LoginRegister() {\r\n    const [registrationFormStatus, setRegistrationFormStatus] = useState(false);\r\n    const loginProps = useSpring({\r\n        left: registrationFormStatus ? -500 : 0,\r\n        opacity: registrationFormStatus ? 0 : 1\r\n    })\r\n    const registerProps = useSpring({\r\n        left: registrationFormStatus ? 0 : 500,\r\n        opacity: registrationFormStatus ? 1 : 0\r\n    })\r\n\r\n    const loginBtnProps = useSpring({\r\n        borderBottom: registrationFormStatus ? 'solid 0px transparent' : 'solid 2px #70C217' \r\n    })\r\n    const registerBtnProps = useSpring({\r\n        borderBottom: registrationFormStatus ? 'solid 2px #70C217' : 'solid 0px transparent' \r\n    })\r\n\r\n    function registerClicked() { setRegistrationFormStatus(true)}\r\n    function loginClicked() { setRegistrationFormStatus(false)}\r\n\r\n    return (\r\n        <div className=\"login-register-wrapper\">\r\n            <div className=\"nav-buttons\">\r\n                <animated.button onClick= {loginClicked} id=\"loginBtn\" style={loginBtnProps}>Login</animated.button>\r\n                <animated.button onClick= {registerClicked} id=\"registerBtn\" style={registerBtnProps}>Register</animated.button>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <animated.form action='' id='loginform' style={loginProps}><LoginForm /></animated.form>\r\n                <animated.form action='' id='registerform' style={registerProps}><RegisterForm /></animated.form>\r\n                <animated.div className=\"forgot-panel\" style={loginProps}><a href=\"#forgot\">Forgot your password</a></animated.div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction LoginForm(props) {\r\n    const [state , setState] = useState({\r\n        Username : \"\",\r\n        password : \"\",\r\n        successMessage: null\r\n    })\r\n    const handleChange = (e) => {\r\n        const {id , value} = e.target   \r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id] : value\r\n        }))\r\n    }\r\n\r\n    const handleSubmitClick = (e) => {\r\n        e.preventDefault();\r\n        const payload={\r\n            \"username\":state.username,\r\n            \"password\":state.password,\r\n        }\r\n        axios.post(API_BASE_URL+'/user/login', payload)\r\n            .then(function (response) {\r\n                if(response.status === 200){\r\n                    setState(prevState => ({\r\n                        ...prevState,\r\n                        'successMessage' : 'Login successful. Redirecting to home page..'\r\n                    }))\r\n                    localStorage.setItem(ACCESS_TOKEN_NAME,response.data.token);\r\n                    redirectToHome();\r\n                    props.showError(null)\r\n                }\r\n                else if(response.code === 204){\r\n                    props.showError(\"Username and password do not match\");\r\n                }\r\n                else{\r\n                    props.showError(\"Username does not exist\");\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    }\r\n    const redirectToHome = () => {\r\n        props.updateTitle('Home')\r\n        props.history.push('/home');\r\n    }\r\n    return (\r\n    <React.Fragment>\r\n        <label for='username'>Username</label>\r\n        <input type='text' \r\n        id='username' \r\n        value={state.username}\r\n        placeholder='CircleAfrica' \r\n        onChange={handleChange}\r\n        />\r\n\r\n        <label for='password'>Password</label>\r\n        <input type='text' \r\n        id='password' \r\n        placeholder='**********' \r\n        value={state.password}\r\n        onChange={handleChange}\r\n        />\r\n\r\n        <input type='submit' \r\n        value='submit' \r\n        className='submit' \r\n        onClick={handleSubmitClick}\r\n        />\r\n\r\n        <div className=\"alert alert-success\" style={{display: state.successMessage ? 'block' : 'none' }} role=\"alert\">\r\n            {state.successMessage}\r\n        </div>\r\n    </React.Fragment>\r\n    )\r\n}\r\n\r\n// function RegisterForm(props) {\r\n//     const [state , setState] = useState({\r\n//         firstname : \"\",\r\n//         lastname : \"\",\r\n//         middlename : \"\",\r\n//         phone : \"\",\r\n//         email : \"\",\r\n//         address : \"\",\r\n//         username : \"\",\r\n//         password : \"\",\r\n//         confirmPassword: \"\",\r\n//         farmer : \"\",\r\n//         investor : \"\",\r\n//         consultant : \"\",\r\n//         successMessage: null\r\n//     })\r\n//     const handleChange = (e) => {\r\n//         const {id , value} = e.target   \r\n//         setState(prevState => ({\r\n//             ...prevState,\r\n//             [id] : value\r\n//         }))\r\n//     }\r\n//     const sendDetailsToServer = () => {\r\n//         if(state.email.length && state.password.length) {\r\n//             props.showError(null);\r\n//             const payload={\r\n//                 \"firstname\":state.firstname,\r\n//                 \"lastname\":state.lastname,\r\n//                 \"middlename\":state.middlename,\r\n//                 \"phone\":state.phone,\r\n//                 \"email\":state.email,\r\n//                 \"address\":state.address,\r\n//                 \"password\":state.password,\r\n//             }\r\n//             axios.post(API_BASE_URL+'/user/register', payload)\r\n//                 .then(function (response) {\r\n//                     if(response.status === 200){\r\n//                         setState(prevState => ({\r\n//                             ...prevState,\r\n//                             'successMessage' : 'Registration successful. Redirecting to home page..'\r\n//                         }))\r\n//                         localStorage.setItem(ACCESS_TOKEN_NAME,response.data.token);\r\n//                         redirectToHome();\r\n//                         props.showError(null)\r\n//                     } else{\r\n//                         props.showError(\"Some error ocurred\");\r\n//                     }\r\n//                 })\r\n//                 .catch(function (error) {\r\n//                     console.log(error);\r\n//                 });    \r\n//         } else {\r\n//             props.showError('Please enter valid username and password')    \r\n//         }\r\n        \r\n//     }\r\n//     const redirectToHome = () => {\r\n//         props.updateTitle('Home')\r\n//         props.history.push('/home');\r\n//     }\r\n//     const handleSubmitClick = (e) => {\r\n//         e.preventDefault();\r\n//         if(state.password === state.confirmPassword) {\r\n//             sendDetailsToServer()    \r\n//         } else {\r\n//             props.showError('Passwords do not match');\r\n//         }\r\n//     }\r\n//     return (\r\n//         <React.Fragment>\r\n//             <label for=\"firstname\">First Name</label>\r\n//             <input type=\"text\" \r\n//             id=\"firstname\" \r\n//             placeholder='Lambert' \r\n//             onChange={e => state.firstname = e.target.value} \r\n//             />\r\n\r\n//             <label for=\"lastname\">Last Name</label>\r\n//             <input type=\"text\" \r\n//             id=\"lastname\" \r\n//             placeholder='Agbo'  \r\n//             value={state.lastname}\r\n//             onChange={handleChange}\r\n//             />\r\n\r\n//             <label for=\"middlename\">Middle Name</label>\r\n//             <input type=\"text\" \r\n//             id=\"middlename\" \r\n//             placeholder='Ikechukwu' \r\n//             value={state.middlename}\r\n//             onChange={handleChange}\r\n//             />\r\n\r\n//             <label for=\"phone\">Phone</label>\r\n//             <input type=\"text\" \r\n//             id=\"phone\" \r\n//             placeholder='+234-703-567-1234' \r\n//             value={state.phone}\r\n//             onChange={handleChange}\r\n//             />\r\n\r\n//             <label for=\"email\">E-mail</label>\r\n//             <input type=\"email\" \r\n//             id=\"email\" \r\n//             placeholder='circleafrica@gmail.com' \r\n//             value={state.email}\r\n//             onChange={handleChange}\r\n//             />\r\n\r\n//             <label for=\"address\">Address</label>\r\n//             <input type=\"text\" \r\n//             id=\"address\" \r\n//             placeholder='No. 30 Ekpoma Street, New Haven, Enugu'  \r\n//             value={state.address}\r\n//             onChange={handleChange}\r\n//             />\r\n\r\n//             <label for='username'>Username</label>\r\n//             <input type='text' \r\n//             id='username' \r\n//             placeholder='CircleAfrica' \r\n//             value={state.username}\r\n//             onChange={handleChange}\r\n//             />\r\n\r\n//             <label for='password'>Password</label>\r\n//             <input type='text' \r\n//             id='password' \r\n//             placeholder='**********' \r\n//             value={state.password}\r\n//             onChange={handleChange}\r\n//             />\r\n\r\n//             <label for='password'>Confirm Password</label>\r\n//             <input type='text' \r\n//             id='password' \r\n//             placeholder='**********' \r\n//             value={state.confirmPassword}\r\n//             onChange={handleChange}\r\n//             />\r\n\r\n//             <div className=\"radio-input-group\">\r\n//                 <input className=\"farmer-radio\" \r\n//                 type=\"radio\" \r\n//                 value=\"Male\" \r\n//                 name=\"gender\" /> Farmer\r\n\r\n//                 <input className=\"investor-radio\" type=\"radio\" \r\n//                 value=\"Female\" \r\n//                 name=\"gender\" /> Investor\r\n\r\n//                 <input className=\"consultant-radio\" type=\"radio\" \r\n//                 value=\"Other\" \r\n//                 name=\"gender\" /> Consultant\r\n//             </div>\r\n\r\n//             <input type='submit' \r\n//             value='submit' \r\n//             className='submit' \r\n//             onClick={handleSubmitClick}\r\n//             />\r\n\r\n//             <div className=\"alert alert-success\" style={{display: state.successMessage ? 'block' : 'none' }} role=\"alert\">\r\n//                 {state.successMessage}\r\n//             </div>\r\n//         </React.Fragment>\r\n//     )\r\n// }\r\n\r\nexport default LoginRegister;\r\n"]},"metadata":{},"sourceType":"module"}